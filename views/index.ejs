
<% layout('layout') -%>
<% stylesheet('stylesheets/style.css') -%>
<h1 class="index-h1"><%= title %> </h1>
<p>Welcome to <em>LocalLibrary</em>, a very basic Express website developed as a tutorial example on the Mozilla Developer Network.</p>

          <h1>Dynamic Content</h1>
          <% if(error){ %>
            <p>Error getting dynamic content</p>
          <% } else { %>
            <p>The library has the following record counts:</p>
            <ul>
              <li> <b>Books:</b> <%= data.book_count %> </li>
              <li> <b>Copies:</b> <%= data.book_instance_count %></li>
              <li> <b>Copies available:</b> <%= data.book_instance_available_count %> </li>
              <li> <b>Authors:</b> <%= data.author_count %> </li>
              <li> <b>Genres:</b> <%= data.genre_count %> </li>
            </ul>
          <% } %>

<!-- So may need to add a conditional in the layout to imitate
the replace if != null functionality that blocks in PUG have (block inheritance)-->
<!-- Something like if not null show blocks.sidebar else include
layout.ejs html  -->
<% if (block.sidebar == null) console.log('sidebar block is null') %>
